/* stylelint-disable selector-class-pattern, no-descending-specificity */

@import "../common/mixins";
@import "../common/variables";
@import "../elements/SearchField";

.Archive {

	&__header {
		padding-top: 100px;
		padding-bottom: 100px;

		&--people {
			padding-left: 20px;
			padding-right: 20px;

			h2 {
				margin: 0 0 10px;
			}

			p {
				margin: 0 0 30px;
			}
		}

		&--glossary {
			background: url(../../images/bg_glossary_header.svg) right center no-repeat;
			background-size: auto 65%;
		}

		&--directory {
			padding-top: 7em;
			background: url(../../images/bg_directory_header.jpg) center no-repeat;
			background-size: cover;
			text-align: center;
			max-width: unset;

			> * {
				text-align: center;
			}
		}

		&__title {
			max-width: 585px;

			&--directory {
				max-width: unset;
				font-size: 3.4375rem;
				font-family: $font-secondary;
				font-weight: $font-weight-bold;

				span::after {
					transform: rotate(180deg);
				}

			}
		}

		&__subtitle {
			max-width: 585px;

			&--directory {
				max-width: unset;
				font-size: 1.625rem;
				font-family: $font-secondary;
				font-weight: $font-weight-normal;
			}
		}

		&__button {
			margin: 4.3em auto;
		}

		&__filter {
			max-width: 1140px;
			background: rgb(255, 255, 255);
			padding: 1.4375em 1.5625em;
			margin: 0 auto;
			border-radius: $border-radius-16;
			display: flex;
			flex-flow: wrap row;
			justify-content: flex-start;

			.searchField {

				@extend %searchField;
				margin: 0 !important;
				align-self: center;

				&__icon {

					@include square(1.35em);
					position: absolute;
					top: 50%;
					left: 2.5rem;
					transform: translateY(-50%);
				}

				input[type="search"] {
					background: $light-grayBg;
					min-width: 300px;
					height: 3em;
					border-radius: $border-radius-14;
				}
			}
		}

		&__dropdown {
			position: relative;
			margin-left: 0.625rem;

			&--menu {
				position: absolute;
				left: 0;
				top: 105%;
				width: 100%;
				z-index: 2;
				background-color: $white;
				border-radius: $border-radius-small;
				box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.2);
				opacity: 0;
				pointer-events: none;
				transform: translateY(-10px);
				transition: all 100ms ease-in-out;

				&--item {
					display: block;
					color: $black;
					font-size: $font-size-smaller;
					cursor: pointer;

					input[type="radio"] {
						appearance: none;
					}
				}

				&.menu-open {
					opacity: 1;
					transform: translateY(0);
					pointer-events: auto;
				}
			}

			.dropdown {
				display: flex;
				justify-content: space-between;
				min-width: 178px;
				height: 3em;
				background-color: $white;
				border: $input-border-width-normal solid $medium-gray-inputs;
				border-radius: 12px;
				padding: 0.6857rem 1rem;
				font-family: $font-primary;
				font-weight: $font-weight-normal;
				font-size: $font-size-smaller;

				img {
					height: 0.75rem;
					width: 0.4375rem;
					background: none;
					border: none;
					transform: rotate(90deg);
					transition: 0.3s;

					&.rotate {
						transform: rotate(-90deg);
					}
				}
			}
		}
	}

	&__directory {
		margin-top: 2.265rem;
		display: flex;
		justify-content: space-between;
		gap: 1em;

		&.wrapper {
			max-width: 1420px;
		}

		&__container {
			display: grid;
			grid-template-columns: repeat(5, 1fr);
			grid-column-gap: 1rem;
			grid-row-gap: 3.125rem;
			justify-content: space-between;
			background: $lightest-gray;
			border-radius: $border-radius-16;
			padding: 1.5652em;

			&__item {
				flex: 0 1 205px;
				display: flex;
				flex-flow: wrap column;
				justify-content: space-between;
				background: $white;
				border-radius: $border-radius-16;
				padding: 1.125rem;
				box-shadow: 0 1px 0.05em 0 rgba($black-real, 0.25);

				&--screenshot {
					width: 100%;
					background-color: $lightest-gray;
					border: 2px solid $light-gray;
					border-radius: 0.75rem;

					&.domain-placeholder {
						padding: 10px;
					}
				}

				&--title {
					margin: 1em 0;
					font-size: 0.75rem;
				}

				&--description {
					font-size: 0.75rem;
					line-height: 1.67;
					color: $black;
					overflow: hidden;
					text-overflow: ellipsis;

					/* displays 3 dots if description was limited */
					display: -webkit-box;
					-webkit-line-clamp: 3; /* number of lines to show */
					line-clamp: 3;
					-webkit-box-orient: vertical;

					/* for better support */
					// display: block;
					// word-wrap: break-word;
					// max-height: 60px;
				}
			}
		}

		&__sidebar {
			align-self: flex-start;
			flex: 0 0 227px;
			flex-flow: wrap column;
			position: -webkit-sticky;
			position: sticky;
			top: 90px;

			&__container {
				flex-flow: wrap column;
				padding: 1.875em 1.4375em;
				margin-top: 0.45rem;
				margin-bottom: 0.45rem;
				border: 2px solid $light-grayBg;
				border-radius: $border-radius-16;

				&--title {
					font-size: 22px;
					font-weight: 700;
					font-family: $font-secondary;

					span {
						color: $black;
					}
				}

				&--text {
					font-size: $font-size-smaller;
					line-height: 1.43;
				}

				.Button {
					width: 100%;
				}
			}

			&__categories {
				flex-flow: wrap column;
				padding: 1.4375em;

				label {
					display: block;
				}

				input[type="radio"] {
					appearance: none;
				}
			}
		}
	}

	&__filter {

		.wrapper {
			justify-content: flex-start;
			padding-top: 35px;
			padding-bottom: 35px;
		}

		&__item {
			position: relative;
			margin-right: 35px;

			i {

				@include color(color, font-color-normal);
				position: absolute;
				margin-left: 20px;
				line-height: 48px;
				pointer-events: none;
			}
		}

		label {
			font-size: 1rem;
			line-height: 48px;
			margin-right: 20px;
		}

		select {
			font-size: 1rem;
			line-height: 48px;
			font-weight: $font-weight-bold;
			border: 0;
			background-color: transparent;
			appearance: none;
		}

		input[type="search"] {
			position: relative;
			min-width: 300px;
			margin-right: 45px;
			padding-left: 45px;
		}

		ul {
			display: flex;
			flex-flow: wrap row;
			margin-bottom: 0;

			li {
				font-size: 1rem;
				line-height: 28px;
				font-weight: $font-weight-bold;

				a {

					@include color(color, font-color-normal);
				}

				&.current-menu-item,
				&:active,
				&:focus,
				&:hover {

					a {

						@include color(color, primary-color);
					}
				}

				+ li {
					margin-left: 25px;
				}
			}
		}

		&.sticky {
			position: fixed;
			top: 90px;
			z-index: 5;
			width: 100%;
		}
	}

	&__container {
		display: flex;
		flex-flow: wrap row;
		justify-content: space-between;
		align-items: flex-start;
		padding-top: 80px;
		padding-bottom: 100px;

		&.sticky {
			padding-top: 198px;
		}

		&--boxes {
			padding-left: 0;
			padding-right: 0;

			.Archive__container__content {
				display: flex;
				flex-flow: wrap row;
				justify-content: flex-start;
				align-items: flex-start;
				width: 100%;
				max-width: 100%;
			}

			.Archive__container__sidebar {
				display: none !important;
			}

			.Archive__container__content__item {
				position: relative;
				max-width: 33.3333333333%;
				margin-bottom: 40px;

				&__thumbnail {

					@include color(background-color, secondary-background);
					height: 12em;
					border-top-left-radius: $border-radius;
					border-top-right-radius: $border-radius;
					overflow: hidden;

					img {
						height: 100% !important;
						object-fit: cover;
					}
				}

				&__category {
					position: relative;
					z-index: 1;
					margin-top: -70px;
					margin-bottom: 25px;
					margin-left: 25px;

					span {

						@include color(background-color, main-background);
						@include color(color, font-color-dark);
						display: inline-block;
						padding: 0 15px;
						line-height: 45px;
						height: 45px;
						border-radius: $border-radius-small;
						font-weight: $font-weight-bold;
						font-size: 0;
						overflow: hidden;

						a {

							&:active,
							&:focus,
							&:hover {
								text-decoration: none;
							}

							&:last-of-type {
								font-size: 1rem;
								line-height: 45px;
							}
						}
					}
				}

				&__text {
					display: none !important;
					padding: 30px 0 0;

					&--visible {
						display: block !important;
					}
				}

				&__title {
					padding: 15px 0 0;

					a {
						display: block;
						max-height: 143px;
						overflow: hidden;

						&:active,
						&:focus,
						&:hover {
							text-decoration: none !important;
						}
					}
				}

				&__text { /* stylelint-disable-line no-duplicate-selectors */
					padding-top: 0;

					p {
						display: block;
						max-height: 118px;
						overflow: hidden;
					}
				}

				article {
					width: auto;
					margin: 0 20px;
					border-radius: $border-radius;
				}

				img {
					width: 100%;
					max-width: 100%;
					height: auto;
				}
			}
		}

		&--boxes2 {
			padding-left: 0;
			padding-right: 0;

			.Archive__container__content {
				display: flex;
				flex-flow: wrap row;
				justify-content: flex-start;
				align-items: flex-start;
			}

			.Archive__container__content__item {
				position: relative;
				max-width: 50%;
				margin-bottom: 40px;

				&__thumbnail {

					@include color(background-color, secondary-background);
					display: flex;
					flex-flow: wrap row;
					justify-content: center;
					align-items: center;
					height: 205px;
					border-radius: $border-radius $border-radius 0 0;
					overflow: hidden;

					a {

						@include fullSize;
						display: flex;
						flex-flow: wrap row;
						justify-content: center;
						align-items: center;
					}

					img {
						position: relative;
						top: -18px;
						max-width: 50% !important;
					}
				}

				&__category {
					position: relative;
					z-index: 1;
					margin-top: -70px;
					margin-bottom: 25px;
					margin-left: 25px;
					pointer-events: none;

					span {

						@include color(background-color, main-background);
						@include color(color, font-color-dark);
						display: inline-block;
						padding: 0 15px;
						line-height: 45px;
						height: 45px;
						border-radius: $border-radius-small;
						font-weight: $font-weight-bold;
						font-size: 0;
						overflow: hidden;

						a {

							&:active,
							&:focus,
							&:hover {
								text-decoration: none;
							}

							&:last-of-type {
								font-size: 1rem;
								line-height: 45px;
							}
						}
					}
				}

				&__title,
				&__text {
					padding: 30px 40px;
				}

				&__title {
					padding-left: 0;
					padding-right: 0;
					padding-bottom: 0;

					a {
						display: block;
						max-height: 143px;
						overflow: hidden;

						&:active,
						&:focus,
						&:hover {
							text-decoration: none !important;
						}
					}
				}

				&__text {
					padding: 0;

					p {
						display: block;
						max-height: 118px;
						overflow: hidden;
					}
				}

				article {
					margin: 0 20px;
					border-radius: $border-radius;
					width: auto !important;
				}

				img {
					width: 100%;
					max-width: 100%;
					height: auto;
				}
			}
		}

		&--glossary {

			.Archive__container__content {
				width: 100%;
				max-width: none;

				&__item {
					display: flex;
					flex-flow: wrap row;
					justify-content: space-between;
					align-items: flex-start;

					&__title {

						@include color(color, primary-color);
						width: 50px;
						font-size: 42px;
						line-height: 42px;
						text-transform: uppercase;
						margin-bottom: 0;
					}

					&__content {

						@include color(border-left-color, border-color-gray);
						width: calc(100% - 51px);
						padding: 0 25px;
						border-left-width: 1px;
						border-left-style: solid;

						ul {
							margin-bottom: 0;
						}

						li {
							display: inline-block;
							width: 33%;
							padding: 8px 0;
						}
					}
				}
			}

			&.sticky {
				padding-top: 180px;
			}
		}

		.testimonials &.Archive__container {

			.Archive__container__content {
				margin-left: 0 !important;
				padding-left: 0 !important;

				li {
					margin-bottom: 1.5em;
				}

				@media (min-width: $breakpoint-tablet) {
					display: flex;
					flex-wrap: wrap;
					align-items: stretch;
					flex: 1;
					justify-content: space-between;
					max-width: $breakpoint-desktop;

					li {
						width: 48%;
						margin-bottom: 3%;
					}
				}
			}
		}

		&--awards {

			.Archive__container__content__item {

				&__thumbnail {
					background-color: transparent;
				}

				&__text {
					text-align: center;
					padding: 20px 20px 0;

					h3 {
						margin-bottom: 8px;
					}
				}
			}
		}

		&--people {
			padding-bottom: 0;

			.Archive__container__content {
				margin-left: 0 !important;
				padding-left: 0 !important;
			}

			.Archive__container__content__item {
				width: 33.3333333333%;

				&__category {

					img {
						max-width: 125px;
					}
				}

				&__thumbnail {
					height: auto;
					background-color: transparent;

					img {
						border-radius: $border-radius $border-radius 0 0;
					}
				}

				&__text {
					text-align: center;
					padding: 20px 20px 0;

					h3 {
						margin-bottom: 8px;
					}
				}
			}
		}

		&--success-stories {
			padding: 3em 0 0;
		}

		&__content {
			width: 70%;
			max-width: 670px;

			&:empty {

				&::before {
					content: "No results found... 😢";
					display: block;
				}
			}

			a:not(.Button) {

				@include color(color, font-color-dark);
			}

			&__item {
				margin-bottom: 50px;

				&__title {
					font-size: 24px;
					line-height: 28px;

					.new-feature {

						@include color(background-color, new-item-color);
						@include color(color, font-color-dark);
						position: relative;
						top: -5px;
						display: inline-block;
						height: 20px;
						padding: 0 8px;
						margin-left: 25px;
						border-radius: 10px;
						font-size: 11px;
						line-height: 20px;
						font-weight: $font-weight-bold;
					}
				}

				&__text {

					p {
						display: inline;

						a {
							font-weight: $font-weight-bold;
						}
					}
				}
			}
		}
	}

	@media (max-width: $breakpoint-desktop) {

		&__header {
			padding-top: 125px;
			padding-bottom: 125px;
			background-position: 95% center;
			background-size: auto 175%;
		}

		&__container {
			padding-top: 80px;

			&--boxes,
			&--boxes2 {
				padding-left: 20px;
				padding-right: 20px;
			}

			&--glossary {

				.Archive__container__content {

					&__item {

						&__content {

							li {
								width: 49%;
								padding-right: 15px;
							}
						}
					}
				}
			}

			&__content {
				width: 100%;
				margin-left: auto;
				margin-right: auto;

				&__item {

					&__labels {

						li {
							margin-left: 0 !important;
							margin-right: 10px !important;
							margin-bottom: 5px;
						}
					}
				}
			}

			&__sidebar {
				display: none !important;
			}

			&--boxes {

				.Archive__container__content__item {
					max-width: 50%;
				}
			}

			&--boxes2 {

				.Archive__container__content__item {
					max-width: 50%;
				}
			}
		}
	}

	@media (max-width: $breakpoint-tablet) {

		&__container {

			&--boxes {

				.Archive__container__content__item {
					max-width: 100%;

					article {
						margin-left: 0;
						margin-right: 0;
					}
				}
			}

			&--boxes2 {

				.Archive__container__content__item {
					max-width: 100%;

					article {
						margin-left: 0;
						margin-right: 0;
					}
				}
			}

			&--glossary {

				.Archive__container__content {

					&__item {

						&__content {

							li {
								width: 100%;
								padding-right: 0;
							}
						}
					}
				}
			}

			&--awards {

				.Archive__container__content__item {
					width: 100%;
				}
			}

			&--people {

				.Archive__container__content__item {
					width: 50%;

					&__thumbnail {
						padding: 0 20px;
					}
				}
			}
		}
	}

	@media (max-width: $breakpoint-mobile) {

		&__filter {

			input[type="search"] {
				min-width: 0;
				width: 100%;
			}

			&__item {
				width: 100%;
				margin-left: 0;
				margin-right: 0;
			}
		}

		&__container {

			&__content {

				&__item {

					&__title {

						a {
							margin-right: 25px;
						}

						.new-feature {
							margin-left: 0;
						}
					}
				}
			}
		}
	}
}

body.archive {

	.Archive__container__content__item__category {
		pointer-events: none;
	}
}
